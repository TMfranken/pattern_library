!function(a,b,c,d){"use strict";a(c).ready(function(){var e={init:function(){this.utils.init(),this.modal(),this.maps(),this.slides(),this.buttons(),this.close(),this.accordion(),this.search(),this.close(),this.menu(),this.tabs(),this.steps()},vals:{$window:a(b)},utils:{init:function(){this.mqState.appendEl(),this.mqState.checkStateView(),this.setDelay()},mqState:{appendEl:function(){a("body").append('<div class="mq-state"/>')},checkStateView:function(){e.vals.view=parseInt(a(".mq-state").css("z-index")),Modernizr.mq("only all")||(e.vals.view=30)}},setDelay:function(){var a=!1,b=!1;e.vals.$window.on("scroll touchmove",function(){a=!0}),e.vals.$window.on("resize",function(){b=!0}),setInterval(function(){a&&(a=!1),b&&(b=!1)},50)}},maps:function(){function d(){var a=new google.maps.LatLng(32.7117,(-117.1592)),b={zoom:13,center:a},d=new google.maps.Map(c.getElementById("multi-map"),b),f="../assets/dist/img/marker.png";new google.maps.Marker({position:a,map:d,icon:f});e(d,i,k),e(d,j,l)}function e(a,b,c){for(var d={coords:[1,1,1,20,18,20,18,1],type:"poly"},e=0;e<b.length;e++){var f=b[e],g=new google.maps.LatLng(f[1],f[2]);new google.maps.Marker({position:g,map:a,icon:c,shape:d,title:f[0],zIndex:f[3]})}}function f(){var a=new google.maps.LatLng(32.7117,(-117.1592)),b={zoom:13,center:a},d=new google.maps.Map(c.getElementById("single-map"),b),e="../assets/dist/img/marker.png";new google.maps.Marker({position:a,map:d,icon:e})}var g=a("#multi-map"),h=a("#single-map");if(g.length){var i=[["Big Bay Boom",32.709,-117.1711,1],["Comic Con",32.7063,-117.1612,2],["Concerts in the Park",32.7039,-117.1643,3]],j=[["Gaslamp Museum",32.7105728,-117.1606412],["Star of India",32.7202992,-117.1735802],["San Diego Zoo",32.7359631,-117.1507747]],k={url:"../assets/dist/img/event-marker.png",size:new google.maps.Size(13,19),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(0,0)},l={url:"../assets/dist/img/attraction-marker.png",size:new google.maps.Size(13,19),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(0,0)};google.maps.event.addDomListener(b,"load",d)}h.length&&google.maps.event.addDomListener(b,"load",f)},slides:function(){a("#hero__slides--primary").flexslider({controlNav:!1,customDirectionNav:a(".custom-navigation--primary a")}),a("#hero__slides--secondary").flexslider({controlNav:!1,customDirectionNav:a(".custom-navigation--secondary a")}),a(".flexslider--default").flexslider({animation:"slide",slideshow:!1,start:function(b){a(".total-slides").text(b.count)},after:function(b){a(".current-slide").text(b.currentSlide+1)}});var c='<li class="flex-counter"><span class="current-slide">1</span> / <span class="total-slides"></span></li>';a(".flexslider .flex-control-nav").append(c);a(".flexslider li:has(.flex-active)").index(".flex-control-nav li")+1,a(".flexslider .flex-control-nav li").length;a(".flexslider--thumbnails").flexslider({animation:"slide",slideshow:!1,controlNav:!1,sync:".flexslider--thumbnails-nav"}),a(".flexslider--thumbnails-nav").flexslider({animation:"slide",itemWidth:150,itemMargin:5,slideshow:!1,controlNav:!1,asNavFor:".flexslider--thumbnails"}),a(b).width()<480&&a(".flexslider--mobile").flexslider({animation:"slide",smoothHeight:!1,directionNav:!0})},buttons:function(){a("#home-slider-nav a.btn").click(function(a){a.cancelBubble=!0,a.stopPropagation()})},modal:function(){a(".gallery-pop-link").magnificPopup({type:"inline",midClick:!0,callbacks:{open:function(){a("#gallery-pop").flexslider({animation:"slide",controlNav:!1,keyboard:!0,multipleKeyboard:!0,directionNav:!0,animationLoop:!1,slideshow:!1,itemWidth:880,sync:"#gallery-pop-nav"}),a("#gallery-pop-nav").flexslider({animation:"slide",controlNav:!1,animationLoop:!1,slideshow:!1,itemWidth:80,asNavFor:"#gallery-pop"})}}}),a(".js-modal-video").magnificPopup({type:"iframe",mainClass:"mfp-fade"}),a(".popup-modal").magnificPopup({type:"inline",midClick:!0,closeBtnInside:!0})},accordion:function(){a(".js-toggle-accordion").on("click",".accordion__link",function(b){b.preventDefault();var c=a(this),d=c.closest(".accordion");d.hasClass("current")?d.removeClass("current is-open").find(".accordion__drawer").stop(!0,!0).slideUp():d.addClass("current is-open").find(".accordion__drawer").stop(!0,!0).slideDown()})},search:function(){a(".search-icon--open").click(function(){event.preventDefault(),a(this).toggleClass("search-open"),a("#search-block-form").slideToggle()})},close:function(){a(".close-icon").each(function(){a(this).click(function(b){b.preventDefault(),a(this).parents(".message").slideUp()})})},menu:function(){function c(){a(".main__navigation .dropdown-parent").each(function(){var b=a(this),c=a(this).find("i"),d=b.siblings(".dropdown");c.on("click",function(a){a.preventDefault(),d.slideToggle(),b.toggleClass("open-dropdown")})})}jQuery("#nav .has__dropdown").each(function(){var b=a(this).children(".dropdown");a(this).hoverIntent({over:function(){b.addClass("visible")},timeout:0,interval:200,out:function(){b.removeClass("visible")}})});var e=a(b).width();e<768&&c(),a(b).on("resize",function(){var c=a(b).width(),e=a(".main__navigation .dropdown-parent"),f=e.find("i"),g=jQuery._data(e[0],"events");c<768&&g===d&&f.on("click",function(){var b=a(this).siblings(".dropdown");a(this).toggleClass("open-dropdown"),b.slideToggle()}),c>768&&(e.each(function(){a(this).off(),a(this).removeClass("open-dropdown")}),a(".main__navigation .has__dropdown > .dropdown").css("display",""))})},tabs:function(){function b(b){if(!b.hasClass("is-active")){var c=a(b).closest("div").attr("id"),d=a(b.find(".tabs-list__link").attr("href"));a("#"+c+" ."+b.attr("class")).addClass("is-active"),a("#"+c+" #"+d.attr("id")).addClass("is-active"),a("#"+c+" .tabs-list__item").not(b).removeClass("is-active"),a("#"+c+" .tabs__bucket").not(d).removeClass("is-active"),history.pushState?history.pushState(null,null,"#"+b.attr("id")):location.hash=b.attr("id")}}a(".js-tabs-list").on("click",".tabs-list__link",function(c){c.preventDefault();var d=a(this).closest(".tabs-list__item");b(d)})},steps:function(){var b=a("#form__step-1 fieldset").height(),c=a("#form__step-2 fieldset").height(),d=a("#form__step-1").height(),e=b-c;c<b&&(a("#form__step-2 fieldset").height(function(a,b){return b+e}),a("#form__step-3 fieldset").css("min-height",d))}};e.init()})}(jQuery,window,document);
//# sourceMappingURL=main.min.js.map